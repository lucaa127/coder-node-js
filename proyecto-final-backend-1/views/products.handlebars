<section class="p-4" style="border:solid 1px; background-color:rgb(246, 255, 253); width:90%; margin:auto;">

<section class="row">
<span class="w-50 text-start" style="color: darkslategrey; margin-bottom:10px; font-weight:bolder;">Lista de productos</span> <a class="w-50 text-end" style="color: darkslategrey; margin-bottom:10px; text-decoration: none;" href="/carts/{{openCartId}}">Ver carrito</a>
</section>
{{#if products}}


<section class="row">

    <span style="width: 15%;"> Filtrar: </span>

<select class="form-select form-select-sm" style="width: 30%;" name="sort" id="sort">
    <option value="" selected>Ordenar por precio</option>
    <option value="1">Menor precio</option>
    <option value="-1">Mayor precio</option>
</select>

<select class="form-select form-select-sm" style="width: 30%;" name="limit" id="limit">
    <option value="">Limitar lista</option>
    <option value="1">1 producto</option>
    <option value="2">2 productos</option>
    <option value="3">3 productos</option>
    <option value="4">4 productos</option>
    <option value="5">5 productos</option>
    <option value="6">6 productos</option>
    <option value="7">7 productos</option>
    <option value="8">8 productos</option>
    <option value="9">9 productos</option>
</select>

<button class="btn btn-secondary" onclick="search();" style="width: 100px;">Buscar <i class="bi bi-search"></i></button>


</section>
    
    
    <table class="table">
    <thead>
        <tr>
        <th scope="col">#</th>
        <th scope="col">Producto</th>
        <th scope="col">Precio</th>
        <th scope="col">Img</th>
        <th scope="col">+</th>
        </tr>
    </thead>
    <tbody>

        {{#each products.payload }}
            <tr>
            <th scope="row">{{this.idNumber}}</th>
            <td><a style="color: black;" href="/products/{{this._id}}">{{this.title}}</a></td>
            <td>${{this.price}}</td>
            <td>
                
            {{#each this.thumbnails}}
                     
                            <img src="{{this}}" class="img-fluid rounded-start" width="50" height="50" >

            {{/each}}

            
            </td>
            <td class="p-4">
                <a href="/products/{{this._id}}">
                <i  class="bi bi-cart-plus"
                    onclick="return test('{{this._id}}')"
                    style="color: tomato;
                    font-size:1.1em;
                    font-weight:bolder;"
                ></i>     
                </a>
            </td>

            </tr>
        {{/each}}

    </tbody>
    </table>

    <section class="w-100 d-flex justify-content-center" style="font-size: 1.4em;">
     <a href="{{#if products.hasPrevPage}}{{products.prevLink}}{{else}}#{{/if}}"> <i class="bi bi-arrow-left-short" style="margin: 0 15%"></i> </a>
        
        <p class="w-50" style="font-size: 0.7em; text-align:center; color:green;"> <span style="text-decoration: underline;">{{products.page}}</span> - {{products.totalPages}} </p>
        
     <a href="{{#if products.hasNextPage}}{{products.nextLink}}{{else}}#{{/if}}"><i class="bi bi-arrow-right-short"  style="margin: 0 15%;"></i></a>

    </section>

{{else}}
    
    <span class="badge bg-info text-dark p-4">No hay productos registrados</span><br>
    
{{/if}}


</section>